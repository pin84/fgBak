import{_ as t,g as i}from"./EditArticle.71226c83.js";import{C as e,p as a,a as l,r as s,o as c,c as r,f as o,F as n,j as d,t as p,w as m,h}from"./vendor.a4b19492.js";import"./Editor.1e2080f0.js";const u={data:()=>({curArticle:{},isShowArticle:!0,inputText:"",listData:[]}),components:{EditArticle:t},created(){this.initData()},methods:{async deleteArticle(t){let a=await i(`/fg/delArticle?id=${t.id}`);this.initData(),e.success(a.data)},async initData(){let t=(await i("/fg/getArticle?page=1&num=999")).data;console.log(t),t.forEach((t=>{t.time=this.formatDate(t.time)})),this.listData=t},cancel(){this.isShowArticle=!0,this.initData()},uploadArticle(){this.isShowArticle=!1},edit(t){this.curArticle=t,this.isShowArticle=!1},formatDate(t){var i=new Date(parseInt(t));return i.getFullYear()+"/"+(i.getMonth()+1)+"/"+i.getDate()}}},A=m();a("data-v-5ce4407c");const f={id:"article"},v={key:0},D={class:"search-box"},g=h("上传"),k={class:"list"},w={class:"time com ellipsis"},y={class:"title com ellipsis"},C={class:"con com ellipsis"},b={class:"btn-box"},x=h("编辑"),_=h("删除");l();const E=A(((t,i,e,a,l,m)=>{const h=s("el-button"),u=s("EditArticle");return c(),r("div",f,[l.isShowArticle?(c(),r("div",v,[o("div",D,[o(h,{class:"btn",onClick:m.uploadArticle,type:"primary",icon:"el-icon-paperclip"},{default:A((()=>[g])),_:1},8,["onClick"])]),o("div",k,[(c(!0),r(n,null,d(l.listData,((t,i)=>(c(),r("div",{class:"item",key:i},[o("div",w,p(t.time),1),o("div",y,p(t.title),1),o("div",C,p(t.subtitle),1),o("div",b,[o(h,{onClick:i=>m.edit(t),type:"text",size:"small"},{default:A((()=>[x])),_:2},1032,["onClick"]),o(h,{onClick:i=>m.deleteArticle(t),type:"text",size:"small"},{default:A((()=>[_])),_:2},1032,["onClick"])])])))),128))])])):(c(),r(u,{key:1,article:l.curArticle,onCancel:m.cancel},null,8,["article","onCancel"]))])}));u.render=E,u.__scopeId="data-v-5ce4407c";export default u;
